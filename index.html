
<html>

<head>
	<meta charset="utf-8">
</head>

<body>
	
	<button onclick="loadPhones()" id="button">Отправить данные</button>
	
	<script>
		function loadPhones(){
			var xhr = new XMLHttpRequest();
			
			var json = JSON.stringify({
				name: "Фисташка",
				score:543
			});
			
			xhr.open("POST","HTTPS://Bulat102.pythonanywhere.com/submit",true);
			xhr.setRequestHeader("Content-type",'application/json; charset=utf-8');
			
			xhr.send(json);
			
			console.log('Запрос отправлен');
			
			xhr.onreadystatechange = function(){
				if (xhr.readyState !=4) return;
				
				button.innerHTML = "Готово!";
			
				if (xhr.status != 200){
					//обработать ошибку
					alert("Ошибка " + xhr.status + ': ' + xhr.statusText);
				} else {
					// вывести результат
					alert(xhr.responseText);
				}
			}
			
			button.innerHTML = "Отправляю...";
			button.disabled = true;
		}
	</script>
</body>
</html>
